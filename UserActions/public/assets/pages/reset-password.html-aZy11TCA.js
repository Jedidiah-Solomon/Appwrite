import"../modulepreload-polyfill-B5Qt9EMX.js";import{A as i,a as d,C as u}from"../sdk-D7tY1HV6.js";console.log("Welcome to Reset Password Page!!!");const n=new u,w="https://cloud.appwrite.io/v1",p="6672cfc000031266de15";n.setEndpoint(w).setProject(p);const o=new i(n),r=document.getElementById("reset-password-form");r.addEventListener("submit",async e=>{e.preventDefault(),r["current-email"].value.trim();const c=r["current-password"].value,t=r["new-password"].value,l=r["confirm-new-password"].value;if(t!==l){alert("New password and confirm password must match.");return}try{let s;try{s=await o.get(),console.log("Current session details:",s)}catch(a){if(a.code===401){alert("Please log in first to reset your password."),window.location.href="/pages/login.html";return}else throw a}await o.updatePassword(t,c),alert("Password updated successfully!"),r.reset()}catch(s){console.error("Reset password error:",s),m(s)}});function m(e){if(e instanceof d)switch(e.code){case 401:alert("Unauthorized: Please check your email and password.");break;case 403:alert("Forbidden: You do not have permission to access.");break;case 404:alert("User not found: The specified user does not exist.");break;case 429:alert("Too many requests. Please try again later.");break;case 500:alert("Internal Server Error: Please try again later.");break;case 503:alert("Service Unavailable: The server is currently unable to handle the request.");break;default:alert(`Error: ${e.message}`)}else alert("An unexpected error occurred. Please try again later."),console.error("Reset Password Error:",e)}
