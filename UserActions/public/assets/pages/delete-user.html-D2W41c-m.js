import"../modulepreload-polyfill-B5Qt9EMX.js";import{A as c,a as i,C as d}from"../sdk-D7tY1HV6.js";console.log("Welcome to Delete User Page!!!");const n=new d,u="https://cloud.appwrite.io/v1",p="6672cfc000031266de15";n.setEndpoint(u).setProject(p);const a=new c(n);async function g(){try{const e=await a.getSession("current");console.log("Current session details:",e);const s=await a.get();console.log("User details:",s);const r=document.getElementById("user-id")}catch(e){console.error("Check logged in error:",e),e.code===401?(alert("Please log in first to delete a user."),window.location.href="/pages/login.html"):l(e)}}g();const o=document.getElementById("delete-user-form");o.addEventListener("submit",async e=>{e.preventDefault();const s=o["user-id"].value.trim();try{const r=await fetch("http://localhost:5000/delete-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:s})});if(r.ok){const t=await r.json();console.log("User deleted successfully:",t),alert("User deleted successfully!"),o.reset()}else{const t=await r.text();console.error("Delete user error:",t),alert(`Delete user error: ${t}`)}}catch(r){console.error("Delete user error:",r),l(r)}});function l(e){if(e instanceof i)switch(e.code){case 401:alert("Unauthorized: Please check your API key.");break;case 403:alert("Forbidden: You do not have permission to delete users.");break;case 404:alert("User not found: The specified user ID does not exist.");break;case 429:alert("Too many requests. Please try again later.");break;case 500:alert("Internal Server Error: Please try again later.");break;case 503:alert("Service Unavailable: The server is currently unable to handle the request.");break;default:alert(`Error: ${e.message}`)}else alert("An unexpected error occurred. Please try again later."),console.error("Delete User Error:",e)}
